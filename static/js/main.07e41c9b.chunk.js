(this.webpackJsonpassessment=this.webpackJsonpassessment||[]).push([[0],{313:function(e,t){},447:function(e,t,a){},499:function(e,t){},500:function(e,t){},901:function(e,t){},903:function(e,t){},970:function(e,t,a){},973:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a.n(n),c=a(420),o=a.n(c),s=(a(447),a(28)),r=a(78),l=a(52),d=a(49),m=a.n(d),j=a(422),u=a(423),h=a(424),b=a(436),g=a(434),f=a(126),x=a.p+"static/media/Logo.09f434a8.png",p=a(433),O=a.n(p),v=a(432),N=a.n(v),y=a(431),F=a.n(y),I=a(991),w=a(990),S=a.p+"static/media/EmptyImage.fa3e438d.svg",k=a(244),C=a.n(k),R=a(435),L=(a(970),a(16)),J=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).removeRectangles=function(e){n.drawRef&&n.drawRef.clear(),n.setState({tools:"rectangle"})},n.downloadJSONFile=Object(j.a)(m.a.mark((function e(){var t,a,i,c,o,s,r,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.imageArray,i=t.coordinates,c=[],Object.keys(i).map((function(e){var t={name:a[e].fileName,rects:i[e]};return c.push(t),null})),o="Export_coordinates",s=JSON.stringify(c,null,2),r=new Blob([s],{type:"application/json"}),e.next=8,URL.createObjectURL(r);case 8:l=e.sent,(d=document.createElement("a")).href=l,d.download=o+".json",document.body.appendChild(d),d.click(),document.body.removeChild(d);case 15:case"end":return e.stop()}}),e)}))),n.onDrop=function(e){var t=n.state,a=t.imageArray,i=t.currentImageIndex;e.map((function(e){return n.setState({currentImageIndex:-1===i?0:i,imageArray:[].concat(Object(l.a)(a),[{fileName:e.name,file:URL.createObjectURL(e)}])}),null}))},n.handleSubmit=function(e){var t=n.state,a=t.currentImageIndex,i=t.coordinates,c=t.imageHeight,o=t.imageWidth;if(e.preventDefault(),a in i===!1){var l=n.drawRef.toJSON(),d=[];l.objects.map((function(e){var t={x1:[(e.left/o).toFixed(2),(e.top/c).toFixed(2)],x2:[((e.left+e.width)/o).toFixed(2),(e.top/c).toFixed(2)],y1:[(e.left/o).toFixed(2),((e.top+e.height)/c).toFixed(2)],y2:[((e.left+e.width)/o).toFixed(2),((e.top+e.height)/c).toFixed(2)]};return d.push(t),null})),n.setState({coordinates:Object(r.a)(Object(r.a)({},i),{},Object(s.a)({},a,d))},n.downloadJSONFile)}else n.downloadJSONFile()},n.onImageClicked=function(e,t){var a=n.state,i=a.imageWidth,c=a.imageHeight,o=n.drawRef.toJSON(),l=[];o.objects.map((function(e){var t={x1:[(e.left/i).toFixed(2),(e.top/c).toFixed(2)],x2:[((e.left+e.width)/i).toFixed(2),(e.top/c).toFixed(2)],y1:[(e.left/i).toFixed(2),((e.top+e.height)/c).toFixed(2)],y2:[((e.left+e.width)/i).toFixed(2),((e.top+e.height)/c).toFixed(2)]};return l.push(t),null})),n.setState({coordinates:Object(r.a)(Object(r.a)({},n.state.coordinates),{},Object(s.a)({},e,l))}),n.removeRectangles(),n.setState({currentImageIndex:t})},n.displayImages=function(){var e=n.state,t=e.imageArray,a=e.currentImageIndex;return t.map((function(e,t){return Object(L.jsx)(C.a.Item,{children:Object(L.jsx)("img",{alt:"",width:"100%",onClick:function(){return n.onImageClicked(a,t)},className:t===a?"main-carousel-selecteditem":"main-carousel-item",src:e.file})},t)}))},n.generateRandomColor=function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"},n.state={coordinates:{},tools:"rectangle",imageArray:[],currentImageIndex:-1,imageWidth:700,imageHeight:500},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.tools,n=t.imageArray,c=t.currentImageIndex;return Object(L.jsxs)(i.a.Fragment,{children:[Object(L.jsx)("div",{className:"header",children:Object(L.jsx)("img",{className:"logo",src:x,alt:"LITWIZ LABS"})}),Object(L.jsxs)("div",{className:"main",children:[Object(L.jsxs)("div",{className:"main-top",children:[Object(L.jsxs)("div",{className:"main-tools",children:[Object(L.jsx)(I.a,{className:"main-tools-icon",style:{background:"pan"===a?"#bbb8b8":"#f5f5f5"},onClick:function(){return e.setState({tools:"pan"===a?"rectangle":"pan"})},children:Object(L.jsx)(F.a,{})}),Object(L.jsx)(I.a,{className:"main-tools-icon",style:{background:"select"===a?"#bbb8b8":"#f5f5f5"},onClick:function(){return e.setState({tools:"select"===a?"rectangle":"select"})},children:Object(L.jsx)(N.a,{})}),Object(L.jsx)(I.a,{className:"main-tools-icon",style:{background:"#f5f5f5"},onClick:this.removeRectangles,children:Object(L.jsx)(O.a,{})})]}),Object(L.jsxs)("div",{className:"main-center",children:[Object(L.jsx)("div",{className:"main-center-imgdiv",style:{position:-1===c?"relative":"absolute"},children:-1!==c?Object(L.jsx)("img",{width:"700px",height:"500px",alt:"",className:"main-center-imgdiv-image",src:n[c].file}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("img",{alt:"",className:"main-center-imgdiv-emptyimage",src:S}),Object(L.jsx)("h3",{style:{color:"#9e9e9e"},children:"Nothing to Show. Upload any image"})]})}),Object(L.jsx)("div",{className:"main-center-canvasdiv",children:-1!==c&&Object(L.jsx)(f.SketchField,{ref:function(t){return e.drawRef=t},width:700,height:500,tool:"select"===a?f.Tools.Select:"pan"===a?f.Tools.Pan:f.Tools.Rectangle,lineColor:this.generateRandomColor,lineWidth:3})})]}),Object(L.jsxs)("div",{className:"main-actions",children:[Object(L.jsx)(w.a,{className:"main-actions-export",onClick:this.handleSubmit,children:"Export"}),Object(L.jsxs)("div",{className:"main-actions-upload",children:[Object(L.jsx)("div",{className:"main-actions-upload-title",children:"Upload a File"}),Object(L.jsx)("div",{className:"main-actions-upload-section",children:Object(L.jsx)("div",{className:"main-actions-upload-section-label",children:Object(L.jsx)(R.a,{onDrop:this.onDrop,children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(L.jsx)("section",{className:"container",children:Object(L.jsxs)("div",Object(r.a)(Object(r.a)({},t({className:"dropzone"})),{},{children:[Object(L.jsx)("input",Object(r.a)({},a())),Object(L.jsx)("p",{children:"Click to browse or drag and drop your files"})]}))})}})})})]})]})]}),-1!==c&&Object(L.jsx)("div",{className:"main-carousel",children:Object(L.jsx)(C.a,{cols:5,rows:1,gap:10,loop:!0,children:this.displayImages()})})]})]})}}]),a}(i.a.Component),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,992)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),c(e),o(e)}))};o.a.render(Object(L.jsx)(J,{}),document.getElementById("root")),A()}},[[973,1,2]]]);
//# sourceMappingURL=main.07e41c9b.chunk.js.map